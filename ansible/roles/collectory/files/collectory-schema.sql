create table activity_log (id bigint not null auto_increment, version bigint not null, action varchar(255) not null, admin bit not null, administrator_for_entity bit not null, contact_for_entity bit not null, entity_uid varchar(255), timestamp datetime not null, user varchar(255) not null, primary key (id)) ENGINE=InnoDB;
create table address (id bigint not null auto_increment, version bigint not null, city varchar(255), country varchar(255), post_box varchar(255), postcode varchar(255), state varchar(255), street varchar(255), primary key (id)) ENGINE=InnoDB;
create table attribution (id bigint not null auto_increment, version bigint not null, name varchar(256) not null, uid varchar(20) not null, url varchar(256), primary key (id)) ENGINE=InnoDB;
create table audit_log (id bigint not null auto_increment, actor varchar(255), class_name varchar(255), date_created datetime not null, event_name varchar(255), last_updated datetime not null, new_value TEXT, old_value TEXT, persisted_object_id varchar(255), persisted_object_version bigint, property_name varchar(255), uri varchar(255), primary key (id)) ENGINE=InnoDB;
create table collection (id bigint not null auto_increment, version bigint not null, acronym varchar(45), active varchar(14), address_city varchar(255), address_country varchar(255), address_post_box varchar(255), address_postcode varchar(255), address_state varchar(255), address_street varchar(255), altitude varchar(255), attributions varchar(256), collection_type varchar(256), date_created datetime not null, east_coordinate decimal(13,10) not null, email varchar(256), end_date varchar(45), focus varchar(4096), geographic_description varchar(255), guid varchar(45), image_ref_attribution varchar(255), image_ref_caption varchar(255), image_ref_copyright varchar(255), image_ref_file varchar(255), institution_id bigint, isalapartner bit not null, keywords varchar(1024), kingdom_coverage varchar(1024), last_updated datetime not null, latitude decimal(13,10) not null, logo_ref_attribution varchar(255), logo_ref_caption varchar(255), logo_ref_copyright varchar(255), logo_ref_file varchar(255), longitude decimal(13,10) not null, name varchar(1024) not null, network_membership varchar(256), north_coordinate decimal(13,10) not null, notes varchar(2048), num_records integer not null, num_records_digitised integer not null, phone varchar(45), pub_description TEXT, scientific_names varchar(2048), south_coordinate decimal(13,10) not null, start_date varchar(45), state varchar(45), states varchar(255), sub_collections varchar(4096), taxonomy_hints varchar(1024), tech_description TEXT, uid varchar(20) not null, user_last_modified varchar(255) not null, website_url varchar(256), west_coordinate decimal(13,10) not null, primary key (id)) ENGINE=InnoDB;
create table collection_command (id bigint not null auto_increment, version bigint not null, acronym varchar(45), active varchar(14), address_id bigint, east_coordinate varchar(255), email varchar(256), end_date varchar(45), focus varchar(2048), geographic_description varchar(255), guid varchar(45), image_ref_id bigint, institution_id bigint, keywords varchar(1024), latitude varchar(255), longitude varchar(255), name varchar(128) not null, north_coordinate varchar(255), notes varchar(2048), num_records varchar(255), num_records_digitised varchar(255), phone varchar(45), provider_codes varchar(2048), pub_description varchar(2048), scientific_names varchar(255), south_coordinate varchar(255), start_date varchar(45), state varchar(45), states varchar(255), tech_description varchar(2048), uid varchar(255) not null, web_service_protocol varchar(255), web_service_uri varchar(255), website_url varchar(256), west_coordinate varchar(255), primary key (id)) ENGINE=InnoDB;
create table contact (id bigint not null auto_increment, version bigint not null, date_created datetime not null, email varchar(128), fax varchar(45), first_name varchar(255), last_name varchar(255), last_updated datetime not null, mobile varchar(45), notes varchar(1024), phone varchar(45), publish bit not null, title varchar(20), user_last_modified varchar(256) not null, primary key (id)) ENGINE=InnoDB;
create table contact_for (id bigint not null auto_increment, version bigint not null, administrator bit not null, contact_id bigint not null, date_created datetime not null, date_last_modified datetime not null, entity_uid varchar(255) not null, notify bit not null, primary_contact bit not null, role varchar(128), user_last_modified varchar(256) not null, primary key (id)) ENGINE=InnoDB;
create table data_hub (id bigint not null auto_increment, version bigint not null, acronym varchar(45), address_city varchar(255), address_country varchar(255), address_post_box varchar(255), address_postcode varchar(255), address_state varchar(255), address_street varchar(255), altitude varchar(255), attributions varchar(256), date_created datetime not null, email varchar(256), focus varchar(4096), guid varchar(45), image_ref_attribution varchar(255), image_ref_caption varchar(255), image_ref_copyright varchar(255), image_ref_file varchar(255), isalapartner bit not null, last_updated datetime not null, latitude decimal(13,10) not null, logo_ref_attribution varchar(255), logo_ref_caption varchar(255), logo_ref_copyright varchar(255), logo_ref_file varchar(255), longitude decimal(13,10) not null, member_collections varchar(4096), member_data_resources varchar(4096), member_institutions varchar(4096), members varchar(4096), name varchar(1024) not null, network_membership varchar(256), notes varchar(2048), phone varchar(45), pub_description TEXT, state varchar(45), taxonomy_hints varchar(1024), tech_description TEXT, uid varchar(20) not null, user_last_modified varchar(255) not null, website_url varchar(256), primary key (id)) ENGINE=InnoDB;
create table data_link (id bigint not null auto_increment, version bigint not null, consumer varchar(255) not null, provider varchar(255) not null, primary key (id)) ENGINE=InnoDB;
create table data_provider (id bigint not null auto_increment, version bigint not null, acronym varchar(45), address_city varchar(255), address_country varchar(255), address_post_box varchar(255), address_postcode varchar(255), address_state varchar(255), address_street varchar(255), altitude varchar(255), attributions varchar(256), date_created datetime not null, email varchar(256), focus varchar(4096), guid varchar(45), image_ref_attribution varchar(255), image_ref_caption varchar(255), image_ref_copyright varchar(255), image_ref_file varchar(255), isalapartner bit not null, last_updated datetime not null, latitude decimal(13,10) not null, logo_ref_attribution varchar(255), logo_ref_caption varchar(255), logo_ref_copyright varchar(255), logo_ref_file varchar(255), longitude decimal(13,10) not null, name varchar(1024) not null, network_membership varchar(256), notes varchar(2048), phone varchar(45), pub_description TEXT, state varchar(45), taxonomy_hints varchar(1024), tech_description TEXT, uid varchar(20) not null, user_last_modified varchar(255) not null, website_url varchar(256), primary key (id)) ENGINE=InnoDB;
create table data_resource (id bigint not null auto_increment, version bigint not null, acronym varchar(45), address_city varchar(255), address_country varchar(255), address_post_box varchar(255), address_postcode varchar(255), address_state varchar(255), address_street varchar(255), altitude varchar(255), attributions varchar(256), citation varchar(4096), connection_parameters varchar(4096), content_types varchar(2048), data_currency datetime, data_generalizations varchar(2048), data_provider_id bigint, date_created datetime not null, default_darwin_core_values varchar(10000), download_limit integer not null, email varchar(256), filed bit not null, focus varchar(4096), guid varchar(45), harvest_frequency integer not null, harvesting_notes varchar(4096), image_ref_attribution varchar(255), image_ref_caption varchar(255), image_ref_copyright varchar(255), image_ref_file varchar(255), information_withheld varchar(2048), institution_id bigint, isalapartner bit not null, last_checked datetime, last_updated datetime not null, latitude decimal(13,10) not null, license_type varchar(45), license_version varchar(45), logo_ref_attribution varchar(255), logo_ref_caption varchar(255), logo_ref_copyright varchar(255), logo_ref_file varchar(255), longitude decimal(13,10) not null, mobilisation_notes varchar(4096), name varchar(1024) not null, network_membership varchar(256), notes varchar(2048), permissions_document varchar(2048), permissions_document_type varchar(23), phone varchar(45), provenance varchar(45), pub_description TEXT, public_archive_available bit not null, resource_type varchar(255) not null, rights varchar(4096), risk_assessment bit not null, state varchar(45), status varchar(45) not null, taxonomy_hints varchar(1024), tech_description TEXT, uid varchar(20) not null, user_last_modified varchar(255) not null, website_url varchar(256), primary key (id)) ENGINE=InnoDB;
create table image (id bigint not null auto_increment, version bigint not null, attribution varchar(255), caption varchar(255), copyright varchar(255), file varchar(255) not null, primary key (id)) ENGINE=InnoDB;
create table institution (id bigint not null auto_increment, version bigint not null, acronym varchar(45), address_city varchar(255), address_country varchar(255), address_post_box varchar(255), address_postcode varchar(255), address_state varchar(255), address_street varchar(255), altitude varchar(255), attributions varchar(256), child_institutions varchar(255), date_created datetime not null, email varchar(256), focus varchar(4096), guid varchar(45), image_ref_attribution varchar(255), image_ref_caption varchar(255), image_ref_copyright varchar(255), image_ref_file varchar(255), institution_type varchar(45), isalapartner bit not null, last_updated datetime not null, latitude decimal(13,10) not null, logo_ref_attribution varchar(255), logo_ref_caption varchar(255), logo_ref_copyright varchar(255), logo_ref_file varchar(255), longitude decimal(13,10) not null, name varchar(1024) not null, network_membership varchar(256), notes varchar(2048), phone varchar(45), pub_description TEXT, state varchar(45), taxonomy_hints varchar(1024), tech_description TEXT, uid varchar(20) not null, user_last_modified varchar(255) not null, website_url varchar(256), primary key (id)) ENGINE=InnoDB;
create table provider_code (id bigint not null auto_increment, version bigint not null, code varchar(200) not null, primary key (id)) ENGINE=InnoDB;
create table provider_map (id bigint not null auto_increment, version bigint not null, collection_id bigint not null unique, date_created datetime not null, exact bit not null, last_updated datetime not null, match_any_collection_code bit not null, warning varchar(255), primary key (id)) ENGINE=InnoDB;
create table provider_map_provider_code (provider_map_collection_codes_id bigint, provider_code_id bigint, provider_map_institution_codes_id bigint) ENGINE=InnoDB;
create table temp_data_resource (id bigint not null auto_increment, version bigint not null, date_created datetime not null, email varchar(256), first_name varchar(255), last_name varchar(255), last_updated datetime not null, name varchar(1024), number_of_records integer not null, uid varchar(20) not null, primary key (id)) ENGINE=InnoDB;
alter table collection add index FK9835AE9EA1605ED4 (institution_id), add constraint FK9835AE9EA1605ED4 foreign key (institution_id) references institution (id);
alter table collection_command add index FK5E19B6AAF79A60A0 (image_ref_id), add constraint FK5E19B6AAF79A60A0 foreign key (image_ref_id) references image (id);
alter table collection_command add index FK5E19B6AAD50C0254 (address_id), add constraint FK5E19B6AAD50C0254 foreign key (address_id) references address (id);
alter table collection_command add index FK5E19B6AAA1605ED4 (institution_id), add constraint FK5E19B6AAA1605ED4 foreign key (institution_id) references institution (id);
create index contact_id_idx on contact_for (contact_id);
create index entity_uid_idx on contact_for (entity_uid);
alter table contact_for add index FK274D02AA9302D4 (contact_id), add constraint FK274D02AA9302D4 foreign key (contact_id) references contact (id);
create index uid_idx on data_hub (uid);
alter table data_resource add index FKE040503CE03A3F5 (data_provider_id), add constraint FKE040503CE03A3F5 foreign key (data_provider_id) references data_provider (id);
alter table data_resource add index FKE040503A1605ED4 (institution_id), add constraint FKE040503A1605ED4 foreign key (institution_id) references institution (id);
alter table provider_map add index FKE70A7A0EB01EB1A0 (collection_id), add constraint FKE70A7A0EB01EB1A0 foreign key (collection_id) references collection (id);
alter table provider_map_provider_code add index FK13BB0B0A2B882E69 (provider_map_collection_codes_id), add constraint FK13BB0B0A2B882E69 foreign key (provider_map_collection_codes_id) references provider_map (id);
alter table provider_map_provider_code add index FK13BB0B0A195335D1 (provider_map_institution_codes_id), add constraint FK13BB0B0A195335D1 foreign key (provider_map_institution_codes_id) references provider_map (id);
alter table provider_map_provider_code add index FK13BB0B0A79EFEF03 (provider_code_id), add constraint FK13BB0B0A79EFEF03 foreign key (provider_code_id) references provider_code (id);
create index uid_idx on temp_data_resource (uid);
